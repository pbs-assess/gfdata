<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Introduction to gfdata • gfdata</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to gfdata">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">gfdata</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/01-gfdata-vignette.html">Introduction to gfdata</a></li>
    <li><a class="dropdown-item" href="../articles/02-gfdata-vignette-get-all.html">Using 'get_all' functions</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/pbs-assess/gfdata/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Introduction to gfdata</h1>
                        <h4 data-toc-skip class="author">Elise
Keppel</h4>
            
            <h4 data-toc-skip class="date">2024-10-15</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/pbs-assess/gfdata/blob/master/vignettes/01-gfdata-vignette.Rmd" class="external-link"><code>vignettes/01-gfdata-vignette.Rmd</code></a></small>
      <div class="d-none name"><code>01-gfdata-vignette.Rmd</code></div>
    </div>

    
    
<style type="text/css">
  body{
  font-size: 11pt;
}
</style>
<div class="section level2">
<h2 id="setup">Setup<a class="anchor" aria-label="anchor" href="#setup"></a>
</h2>
<p>If you don’t already have the package installed, then run:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"pbs-assess/gfdata"</span><span class="op">)</span></span></code></pre></div>
<p>First we will load the package along with dplyr since we will use it
within our code later.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/pbs-assess/gfdata" class="external-link">gfdata</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="an-overview-of-gfdata">An overview of gfdata<a class="anchor" aria-label="anchor" href="#an-overview-of-gfdata"></a>
</h2>
<p>Commercial and research catch, effort, and biological data for
groundfish are archived by the DFO Pacific Groundfish Data Unit
(Fisheries and Oceans Canada, Science Branch, Pacific Region) and housed
in a number of relational databases archived on-site at the Pacific
Biological Station, Nanaimo, BC).</p>
<p>The gfdata package was develeoped to automate data extraction from
these databases in a consistent, reproducible manner with a series of
<code>get_*()</code> functions. The functions extract data using SQL
queries, developed with support from the Groundfish Data Unit. The
standardized datasets are designed to feed directly into functions in
the gfplot package, or can of course also be analyzed outside of
gfplot.<br><br>
The SQL code called in the <code>get_*()</code> functions can be viewed
here:<br><a href="https://github.com/pbs-assess/gfata/tree/master/inst/sql" class="external-link uri">https://github.com/pbs-assess/gfata/tree/master/inst/sql</a><br><br>
How the various functions fit together:<br><a href="https://github.com/pbs-assess/gfplot/blob/master/inst/function-web.pdf" class="external-link uri">https://github.com/pbs-assess/gfplot/blob/master/inst/function-web.pdf</a><br><br>
Detailed information on the data extraction and the <code>get_*()</code>
functions can be found in:</p>
<p>Anderson, S.C., Keppel, E.A., Edwards, A.M.. “A reproducible data
synopsis for over 100 species of British Columbia groundfish”. DFO Can.
Sci. Advis. Sec. REs. Doc. 2019/nnn. iv + 327 p.<br><br>
The complete list of <code>get_*()</code> functions in gfdata is:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fns</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/ls.html" class="external-link">ls</a></span><span class="op">(</span><span class="st">"package:gfdata"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/sort.html" class="external-link">sort</a></span><span class="op">(</span><span class="va">fns</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"get"</span>, <span class="va">fns</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;  [1] "get_active_survey_blocks"    "get_age_methods"             "get_age_precision"          </span></span>
<span><span class="co">#&gt;  [4] "get_all_stomachs"            "get_all_survey_samples"      "get_all_survey_sets"        </span></span>
<span><span class="co">#&gt;  [7] "get_catch"                   "get_catch_spatial"           "get_comm_gear_types"        </span></span>
<span><span class="co">#&gt; [10] "get_commercial_hooks_per_fe" "get_commercial_samples"      "get_cpue_historical"        </span></span>
<span><span class="co">#&gt; [13] "get_cpue_historical_hake"    "get_cpue_historical_hl"      "get_cpue_index"             </span></span>
<span><span class="co">#&gt; [16] "get_cpue_index_hl"           "get_cpue_spatial"            "get_cpue_spatial_ll"        </span></span>
<span><span class="co">#&gt; [19] "get_eulachon_specimens"      "get_fishery_ids"             "get_fishery_sectors"        </span></span>
<span><span class="co">#&gt; [22] "get_gear_types"              "get_hake_catch"              "get_hake_survey_samples"    </span></span>
<span><span class="co">#&gt; [25] "get_ll_hook_data"            "get_major_areas"             "get_management"             </span></span>
<span><span class="co">#&gt; [28] "get_management_areas"        "get_other_surveys"           "get_parent_level_counts"    </span></span>
<span><span class="co">#&gt; [31] "get_sable_landings"          "get_sablefish_surveys"       "get_sample_trips"           </span></span>
<span><span class="co">#&gt; [34] "get_sensor_attributes"       "get_sensor_data_ll_ctd"      "get_sensor_data_ll_ctd_fe"  </span></span>
<span><span class="co">#&gt; [37] "get_sensor_data_ll_td"       "get_sensor_data_ll_td_fe"    "get_sensor_data_trawl"      </span></span>
<span><span class="co">#&gt; [40] "get_sensor_data_trawl_fe"    "get_skate_level_counts"      "get_species"                </span></span>
<span><span class="co">#&gt; [43] "get_species_groups"          "get_spp_sample_length_type"  "get_ssids"                  </span></span>
<span><span class="co">#&gt; [46] "get_strata_areas"            "get_survey_blocks"           "get_survey_gear_types"      </span></span>
<span><span class="co">#&gt; [49] "get_survey_ids"              "get_survey_index"            "get_survey_samples"         </span></span>
<span><span class="co">#&gt; [52] "get_survey_sets"             "get_survey_stomachs"         "get_table"</span></span></code></pre>
<p>The <code>get_*()</code> functions extract data by species, and some
functions have arguments for additional filtering, such as survey
series, management area, years, gear type, or environmental data type.
In all cases, the <code>get_*()</code> functions can extract data for
one or multiple species.</p>
<p>All functions can be viewed with the available arguments in the help
documentation for each set of functions with:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">?</span><span class="va">get_data</span></span>
<span><span class="op">?</span><span class="va">get_environmental_data</span></span>
<span><span class="op">?</span><span class="va">get_lookup_tables</span></span></code></pre></div>
<p>In addition, a number of the <code>get</code> functions retain many
relevant database columns that users can filter on with, for example,
<code>dplyr::filter(dat, x = "y")</code>.</p>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>As an example, we could extract Pacific cod survey sample data with
the following function call if we were on a DFO laptop, with appropriate
database permissions, and on the PBS network.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_data.html">get_survey_samples</a></span><span class="op">(</span><span class="st">"pacific cod"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; All or majority of length measurements are Fork_Length</span></span></code></pre>
<pre><code><span><span class="co">#&gt; Warning in get_survey_samples("pacific cod"): Duplicate specimen IDs are present because of</span></span>
<span><span class="co">#&gt; overlapping survey stratifications. If working with the data yourelf, filter them after selecting</span></span>
<span><span class="co">#&gt; specific surveys. For example, `dat &lt;- dat[!duplicated(dat$specimen_id), ]`. The tidying and</span></span>
<span><span class="co">#&gt; plotting functions within gfplot will do this for you.</span></span></code></pre>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; # A tibble: 6 x 40</span></span>
<span><span class="co">#&gt;   trip_start_date     fishing_event_id  year month  gear survey_series_id survey_abbrev</span></span>
<span><span class="co">#&gt;   &lt;dttm&gt;                         &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;dbl&gt;            &lt;dbl&gt; &lt;chr&gt;        </span></span>
<span><span class="co">#&gt; 1 2014-10-01 00:00:00          3420684  2014    10     5               76 DOG          </span></span>
<span><span class="co">#&gt; 2 2019-10-01 00:00:00          5167333  2019    10     5               76 DOG          </span></span>
<span><span class="co">#&gt; 3 2003-08-13 00:00:00           309491  2003     8     5               39 HBLL INS N   </span></span>
<span><span class="co">#&gt; 4 2003-08-13 00:00:00           309493  2003     8     5               39 HBLL INS N   </span></span>
<span><span class="co">#&gt; 5 2003-08-13 00:00:00           309503  2003     8     5               39 HBLL INS N   </span></span>
<span><span class="co">#&gt; 6 2003-08-13 00:00:00           309506  2003     8     5               39 HBLL INS N   </span></span>
<span><span class="co">#&gt; # i 33 more variables: survey_series_desc &lt;chr&gt;, survey_id &lt;int&gt;, major_stat_area_code &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   major_stat_area_name &lt;chr&gt;, minor_stat_area_code &lt;chr&gt;, species_code &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   species_common_name &lt;chr&gt;, species_science_name &lt;chr&gt;, specimen_id &lt;dbl&gt;, sample_id &lt;dbl&gt;,</span></span>
<span><span class="co">#&gt; #   sex &lt;dbl&gt;, age_specimen_collected &lt;int&gt;, age &lt;dbl&gt;, sampling_desc &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   ageing_method_code &lt;dbl&gt;, length &lt;dbl&gt;, weight &lt;int&gt;, maturity_code &lt;dbl&gt;, maturity_name &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   maturity_desc &lt;chr&gt;, maturity_convention_code &lt;dbl&gt;, maturity_convention_desc &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   maturity_convention_maxvalue &lt;dbl&gt;, trip_sub_type_code &lt;dbl&gt;, sample_type_code &lt;dbl&gt;, ...</span></span></code></pre>
<p>Note that there are some duplicate records in the databases due to
relating a record to multiple stratification schemes for alternative
analyses. If this occurs, a warning is given.</p>
<blockquote>
<p>“Duplicate specimen IDs are present because of overlapping survey
stratifications. If working with the data yourelf, filter them after
selecting specific surveys. For example,
<code>dat &lt;- dat[!duplicated(dat$specimen_id), ]</code>. The tidying
and plotting functions within gfplot will do this for you.”</p>
</blockquote>
<p>Either species name or species code can be given as an argument, and
species name, if used, is not case-sensitive. The following all do the
same thing:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/get_data.html">get_survey_samples</a></span><span class="op">(</span><span class="st">"pacific cod"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/get_data.html">get_survey_samples</a></span><span class="op">(</span><span class="st">"Pacific cod"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/get_data.html">get_survey_samples</a></span><span class="op">(</span><span class="st">"PaCiFiC cOD"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/get_data.html">get_survey_samples</a></span><span class="op">(</span><span class="st">"222"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/get_data.html">get_survey_samples</a></span><span class="op">(</span><span class="fl">222</span><span class="op">)</span></span></code></pre></div>
<p>To extract multiple species at once, give a list as the species
argument:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/get_data.html">get_survey_samples</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"pacific ocean perch"</span>, <span class="st">"pacific cod"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/get_data.html">get_survey_samples</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">396</span>, <span class="fl">222</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/get_data.html">get_survey_samples</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">222</span>, <span class="st">"pacific cod"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>We can further restrict the data extraction to a single trawl survey
series by including the ssid (survey series id) argument. For a list of
survey series id codes, run the lookup function
<code><a href="../reference/lookup.html">get_ssids()</a></code>.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ssids</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/lookup.html">get_ssids</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">ssids</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; # A tibble: 6 x 3</span></span>
<span><span class="co">#&gt;   SURVEY_SERIES_ID SURVEY_SERIES_DESC                                 SURVEY_ABBREV</span></span>
<span><span class="co">#&gt;              &lt;dbl&gt; &lt;chr&gt;                                              &lt;chr&gt;        </span></span>
<span><span class="co">#&gt; 1                0 Individual survey without a series                 OTHER        </span></span>
<span><span class="co">#&gt; 2                1 Queen Charlotte Sound Synoptic Bottom Trawl        SYN QCS      </span></span>
<span><span class="co">#&gt; 3                2 Hecate Strait Multispecies Assemblage Bottom Trawl HS MSA       </span></span>
<span><span class="co">#&gt; 4                3 Hecate Strait Synoptic Bottom Trawl                SYN HS       </span></span>
<span><span class="co">#&gt; 5                4 West Coast Vancouver Island Synoptic Bottom Trawl  SYN WCVI     </span></span>
<span><span class="co">#&gt; 6                5 Hecate Strait Pacific Cod Monitoring Bottom Trawl  OTHER</span></span></code></pre>
<p>Select desired ssid and include as argument (i.e. the Queen Charlotte
Sound bottom trawl survey):</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_data.html">get_survey_samples</a></span><span class="op">(</span><span class="fl">222</span>, ssid <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; All or majority of length measurements are Fork_Length</span></span></code></pre>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; # A tibble: 6 x 40</span></span>
<span><span class="co">#&gt;   trip_start_date     fishing_event_id  year month  gear survey_series_id survey_abbrev</span></span>
<span><span class="co">#&gt;   &lt;dttm&gt;                         &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;dbl&gt;            &lt;dbl&gt; &lt;chr&gt;        </span></span>
<span><span class="co">#&gt; 1 2003-07-03 00:00:00           308673  2003     7     1                1 SYN QCS      </span></span>
<span><span class="co">#&gt; 2 2003-07-03 00:00:00           308673  2003     7     1                1 SYN QCS      </span></span>
<span><span class="co">#&gt; 3 2003-07-03 00:00:00           308673  2003     7     1                1 SYN QCS      </span></span>
<span><span class="co">#&gt; 4 2003-07-03 00:00:00           308673  2003     7     1                1 SYN QCS      </span></span>
<span><span class="co">#&gt; 5 2003-07-03 00:00:00           308673  2003     7     1                1 SYN QCS      </span></span>
<span><span class="co">#&gt; 6 2003-07-03 00:00:00           308673  2003     7     1                1 SYN QCS      </span></span>
<span><span class="co">#&gt; # i 33 more variables: survey_series_desc &lt;chr&gt;, survey_id &lt;int&gt;, major_stat_area_code &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   major_stat_area_name &lt;chr&gt;, minor_stat_area_code &lt;chr&gt;, species_code &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   species_common_name &lt;chr&gt;, species_science_name &lt;chr&gt;, specimen_id &lt;dbl&gt;, sample_id &lt;dbl&gt;,</span></span>
<span><span class="co">#&gt; #   sex &lt;dbl&gt;, age_specimen_collected &lt;int&gt;, age &lt;dbl&gt;, sampling_desc &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   ageing_method_code &lt;dbl&gt;, length &lt;dbl&gt;, weight &lt;int&gt;, maturity_code &lt;dbl&gt;, maturity_name &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   maturity_desc &lt;chr&gt;, maturity_convention_code &lt;dbl&gt;, maturity_convention_desc &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   maturity_convention_maxvalue &lt;dbl&gt;, trip_sub_type_code &lt;dbl&gt;, sample_type_code &lt;dbl&gt;, ...</span></span></code></pre>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; Rows: 11,509</span></span>
<span><span class="co">#&gt; Columns: 40</span></span>
<span><span class="co">#&gt; $ trip_start_date              &lt;dttm&gt; 2003-07-03, 2003-07-03, 2003-07-03, 2003-07-03, 2003-07-03, ~</span></span>
<span><span class="co">#&gt; $ fishing_event_id             &lt;dbl&gt; 308673, 308673, 308673, 308673, 308673, 308673, 308673, 30867~</span></span>
<span><span class="co">#&gt; $ year                         &lt;int&gt; 2003, 2003, 2003, 2003, 2003, 2003, 2003, 2003, 2003, 2003, 2~</span></span>
<span><span class="co">#&gt; $ month                        &lt;int&gt; 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7~</span></span>
<span><span class="co">#&gt; $ gear                         &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1~</span></span>
<span><span class="co">#&gt; $ survey_series_id             &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1~</span></span>
<span><span class="co">#&gt; $ survey_abbrev                &lt;chr&gt; "SYN QCS", "SYN QCS", "SYN QCS", "SYN QCS", "SYN QCS", "SYN Q~</span></span>
<span><span class="co">#&gt; $ survey_series_desc           &lt;chr&gt; "Queen Charlotte Sound Synoptic Bottom Trawl", "Queen Charlot~</span></span>
<span><span class="co">#&gt; $ survey_id                    &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1~</span></span>
<span><span class="co">#&gt; $ major_stat_area_code         &lt;chr&gt; "05", "05", "05", "05", "05", "05", "05", "05", "05", "05", "~</span></span>
<span><span class="co">#&gt; $ major_stat_area_name         &lt;chr&gt; "5A: SOUTHERN Q.C. SOUND", "5A: SOUTHERN Q.C. SOUND", "5A: SO~</span></span>
<span><span class="co">#&gt; $ minor_stat_area_code         &lt;chr&gt; "11", "11", "11", "11", "11", "11", "11", "11", "11", "11", "~</span></span>
<span><span class="co">#&gt; $ species_code                 &lt;chr&gt; "222", "222", "222", "222", "222", "222", "222", "222", "222"~</span></span>
<span><span class="co">#&gt; $ species_common_name          &lt;chr&gt; "pacific cod", "pacific cod", "pacific cod", "pacific cod", "~</span></span>
<span><span class="co">#&gt; $ species_science_name         &lt;chr&gt; "gadus macrocephalus", "gadus macrocephalus", "gadus macrocep~</span></span>
<span><span class="co">#&gt; $ specimen_id                  &lt;dbl&gt; 7607986, 7607987, 7607988, 7607989, 7607990, 7607991, 7607992~</span></span>
<span><span class="co">#&gt; $ sample_id                    &lt;dbl&gt; 233551, 233551, 233551, 233551, 233551, 233551, 233551, 23355~</span></span>
<span><span class="co">#&gt; $ sex                          &lt;dbl&gt; 2, 2, 1, 1, 1, 1, 2, 1, 2, 2, 2, 2, 1, 1, 2, 1, 2, 2, 2, 2, 2~</span></span>
<span><span class="co">#&gt; $ age_specimen_collected       &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0~</span></span>
<span><span class="co">#&gt; $ age                          &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N~</span></span>
<span><span class="co">#&gt; $ sampling_desc                &lt;chr&gt; "UNSORTED", "UNSORTED", "UNSORTED", "UNSORTED", "UNSORTED", "~</span></span>
<span><span class="co">#&gt; $ ageing_method_code           &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N~</span></span>
<span><span class="co">#&gt; $ length                       &lt;dbl&gt; 21, 21, 23, 23, 23, 23, 23, 24, 24, 25, 26, 26, 27, 28, 28, 2~</span></span>
<span><span class="co">#&gt; $ weight                       &lt;int&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N~</span></span>
<span><span class="co">#&gt; $ maturity_code                &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0~</span></span>
<span><span class="co">#&gt; $ maturity_name                &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N~</span></span>
<span><span class="co">#&gt; $ maturity_desc                &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N~</span></span>
<span><span class="co">#&gt; $ maturity_convention_code     &lt;dbl&gt; 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9~</span></span>
<span><span class="co">#&gt; $ maturity_convention_desc     &lt;chr&gt; "MATURITIES NOT LOOKED AT", "MATURITIES NOT LOOKED AT", "MATU~</span></span>
<span><span class="co">#&gt; $ maturity_convention_maxvalue &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0~</span></span>
<span><span class="co">#&gt; $ trip_sub_type_code           &lt;dbl&gt; 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3~</span></span>
<span><span class="co">#&gt; $ sample_type_code             &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1~</span></span>
<span><span class="co">#&gt; $ species_category_code        &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1~</span></span>
<span><span class="co">#&gt; $ sample_source_code           &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1~</span></span>
<span><span class="co">#&gt; $ dna_sample_type              &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N~</span></span>
<span><span class="co">#&gt; $ dna_container_id             &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N~</span></span>
<span><span class="co">#&gt; $ usability_code               &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1~</span></span>
<span><span class="co">#&gt; $ grouping_code                &lt;dbl&gt; 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 1~</span></span>
<span><span class="co">#&gt; $ length_type                  &lt;chr&gt; "Fork_Length", "Fork_Length", "Fork_Length", "Fork_Length", "~</span></span>
<span><span class="co">#&gt; $ species_ageing_group         &lt;chr&gt; "pcod_lingcod", "pcod_lingcod", "pcod_lingcod", "pcod_lingcod~</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="caching-the-data-from-the-sql-servers">Caching the data from the SQL servers<a class="anchor" aria-label="anchor" href="#caching-the-data-from-the-sql-servers"></a>
</h2>
<p>In addition to the individual <code>get_*()</code> functions, there
is a function <code><a href="../reference/get_data.html">cache_pbs_data()</a></code> that runs all the
<code>get_*()</code> functions and caches the data in a folder that you
specify. This is useful to be able to have the data available for
working on later when not on the PBS network, and it saves running the
SQL queries (though the data do get updated occassionally and the most
up-to-date data should usually be extracted for analysis).</p>
<p>The helper function <code><a href="../reference/get_data.html">cache_pbs_data()</a></code> will extract all of
the data for the given species into a series of <code>.rds</code> files
into whatever folder you specify to the <code>path</code> argument. I’ll
wrap it in a quick check just to make sure we don’t download the data
twice if we build this document again.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/get_data.html">cache_pbs_data</a></span><span class="op">(</span><span class="st">"pacific cod"</span>, path <span class="op">=</span> <span class="st">"pcod-cache"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; Extracting data for</span></span></code></pre>
<pre><code><span><span class="co">#&gt; Extracting survey samples</span></span></code></pre>
<pre><code><span><span class="co">#&gt; All or majority of length measurements are Fork_Length</span></span></code></pre>
<pre><code><span><span class="co">#&gt; Warning in get_survey_samples(this_sp): Duplicate specimen IDs are present because of overlapping</span></span>
<span><span class="co">#&gt; survey stratifications. If working with the data yourelf, filter them after selecting specific</span></span>
<span><span class="co">#&gt; surveys. For example, `dat &lt;- dat[!duplicated(dat$specimen_id), ]`. The tidying and plotting</span></span>
<span><span class="co">#&gt; functions within gfplot will do this for you.</span></span></code></pre>
<pre><code><span><span class="co">#&gt; Extracting commercial samples</span></span></code></pre>
<pre><code><span><span class="co">#&gt; All or majority of length measurements are Fork_Length</span></span></code></pre>
<pre><code><span><span class="co">#&gt; Extracting catch</span></span></code></pre>
<pre><code><span><span class="co">#&gt; Extracting spatial CPUE</span></span></code></pre>
<pre><code><span><span class="co">#&gt; Extracting spatial LL CPUE</span></span></code></pre>
<pre><code><span><span class="co">#&gt; Extracting spatial catch</span></span></code></pre>
<pre><code><span><span class="co">#&gt; Extracting survey indexes</span></span></code></pre>
<pre><code><span><span class="co">#&gt; Extracting aging precision</span></span></code></pre>
<pre><code><span><span class="co">#&gt; All data extracted and saved in the folder `pcod-cache`.</span></span></code></pre>
<p>And to call the list of output files:</p>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dat</span>  <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">readRDS</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="st">"pcod-cache"</span>, <span class="st">"pacific-cod.rds"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; $survey_samples</span></span>
<span><span class="co">#&gt; # A tibble: 77,134 x 40</span></span>
<span><span class="co">#&gt;    trip_start_date     fishing_event_id  year month  gear survey_series_id survey_abbrev</span></span>
<span><span class="co">#&gt;    &lt;dttm&gt;                         &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;dbl&gt;            &lt;dbl&gt; &lt;chr&gt;        </span></span>
<span><span class="co">#&gt;  1 2014-10-01 00:00:00          3420684  2014    10     5               76 DOG          </span></span>
<span><span class="co">#&gt;  2 2019-10-01 00:00:00          5167333  2019    10     5               76 DOG          </span></span>
<span><span class="co">#&gt;  3 2003-08-13 00:00:00           309491  2003     8     5               39 HBLL INS N   </span></span>
<span><span class="co">#&gt;  4 2003-08-13 00:00:00           309493  2003     8     5               39 HBLL INS N   </span></span>
<span><span class="co">#&gt;  5 2003-08-13 00:00:00           309503  2003     8     5               39 HBLL INS N   </span></span>
<span><span class="co">#&gt;  6 2003-08-13 00:00:00           309506  2003     8     5               39 HBLL INS N   </span></span>
<span><span class="co">#&gt;  7 2003-08-13 00:00:00           309516  2003     8     5               39 HBLL INS N   </span></span>
<span><span class="co">#&gt;  8 2003-08-13 00:00:00           309517  2003     8     5               39 HBLL INS N   </span></span>
<span><span class="co">#&gt;  9 2003-08-13 00:00:00           309524  2003     8     5               39 HBLL INS N   </span></span>
<span><span class="co">#&gt; 10 2003-08-13 00:00:00           309478  2003     8     5               39 HBLL INS N   </span></span>
<span><span class="co">#&gt; # i 77,124 more rows</span></span>
<span><span class="co">#&gt; # i 33 more variables: survey_series_desc &lt;chr&gt;, survey_id &lt;int&gt;, major_stat_area_code &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   major_stat_area_name &lt;chr&gt;, minor_stat_area_code &lt;chr&gt;, species_code &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   species_common_name &lt;chr&gt;, species_science_name &lt;chr&gt;, specimen_id &lt;dbl&gt;, sample_id &lt;dbl&gt;,</span></span>
<span><span class="co">#&gt; #   sex &lt;dbl&gt;, age_specimen_collected &lt;int&gt;, age &lt;dbl&gt;, sampling_desc &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   ageing_method_code &lt;dbl&gt;, length &lt;dbl&gt;, weight &lt;int&gt;, maturity_code &lt;dbl&gt;, maturity_name &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   maturity_desc &lt;chr&gt;, maturity_convention_code &lt;dbl&gt;, maturity_convention_desc &lt;chr&gt;, ...</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $commercial_samples</span></span>
<span><span class="co">#&gt; # A tibble: 155,282 x 54</span></span>
<span><span class="co">#&gt;    trip_start_date     trip_end_date       trip_year  year month   day time_deployed</span></span>
<span><span class="co">#&gt;    &lt;dttm&gt;              &lt;dttm&gt;                  &lt;int&gt; &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;dttm&gt;       </span></span>
<span><span class="co">#&gt;  1 1962-04-19 00:00:00 1962-04-30 00:00:00      1962  1962     4     2 NA           </span></span>
<span><span class="co">#&gt;  2 1962-04-19 00:00:00 1962-04-30 00:00:00      1962  1962     4     2 NA           </span></span>
<span><span class="co">#&gt;  3 1962-04-19 00:00:00 1962-04-30 00:00:00      1962  1962     4     2 NA           </span></span>
<span><span class="co">#&gt;  4 1962-04-19 00:00:00 1962-04-30 00:00:00      1962  1962     4     2 NA           </span></span>
<span><span class="co">#&gt;  5 1962-04-19 00:00:00 1962-04-30 00:00:00      1962  1962     4     2 NA           </span></span>
<span><span class="co">#&gt;  6 1962-04-19 00:00:00 1962-04-30 00:00:00      1962  1962     4     2 NA           </span></span>
<span><span class="co">#&gt;  7 1962-04-19 00:00:00 1962-04-30 00:00:00      1962  1962     4     2 NA           </span></span>
<span><span class="co">#&gt;  8 1962-04-19 00:00:00 1962-04-30 00:00:00      1962  1962     4     2 NA           </span></span>
<span><span class="co">#&gt;  9 1962-04-19 00:00:00 1962-04-30 00:00:00      1962  1962     4     2 NA           </span></span>
<span><span class="co">#&gt; 10 1962-04-19 00:00:00 1962-04-30 00:00:00      1962  1962     4     2 NA           </span></span>
<span><span class="co">#&gt; # i 155,272 more rows</span></span>
<span><span class="co">#&gt; # i 47 more variables: time_retrieved &lt;dttm&gt;, trip_id &lt;dbl&gt;, fishing_event_id &lt;dbl&gt;,</span></span>
<span><span class="co">#&gt; #   latitude &lt;dbl&gt;, lat_start &lt;dbl&gt;, lat_end &lt;dbl&gt;, longitude &lt;dbl&gt;, lon_start &lt;dbl&gt;,</span></span>
<span><span class="co">#&gt; #   lon_end &lt;dbl&gt;, best_depth &lt;dbl&gt;, gear_code &lt;dbl&gt;, gear_desc &lt;chr&gt;, species_code &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   species_common_name &lt;chr&gt;, species_science_name &lt;chr&gt;, sample_id &lt;dbl&gt;, specimen_id &lt;dbl&gt;,</span></span>
<span><span class="co">#&gt; #   sex &lt;dbl&gt;, age_specimen_collected &lt;int&gt;, age &lt;dbl&gt;, ageing_method_code &lt;dbl&gt;, length &lt;dbl&gt;,</span></span>
<span><span class="co">#&gt; #   weight &lt;int&gt;, maturity_code &lt;dbl&gt;, maturity_convention_code &lt;dbl&gt;, ...</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $catch</span></span>
<span><span class="co">#&gt; # A tibble: 333,430 x 27</span></span>
<span><span class="co">#&gt;    database_name trip_id  fishing_event_id fishery_sector   trip_category gear   best_date          </span></span>
<span><span class="co">#&gt;    &lt;chr&gt;         &lt;chr&gt;    &lt;chr&gt;            &lt;chr&gt;            &lt;chr&gt;         &lt;chr&gt;  &lt;dttm&gt;             </span></span>
<span><span class="co">#&gt;  1 GFCatch       54000002 1                GROUNDFISH TRAWL &lt;NA&gt;          BOTTO~ 1954-01-04 00:00:00</span></span>
<span><span class="co">#&gt;  2 GFCatch       54000054 1                GROUNDFISH TRAWL &lt;NA&gt;          BOTTO~ 1954-01-04 00:00:00</span></span>
<span><span class="co">#&gt;  3 GFCatch       54000001 1                GROUNDFISH TRAWL &lt;NA&gt;          BOTTO~ 1954-01-04 00:00:00</span></span>
<span><span class="co">#&gt;  4 GFCatch       54000055 1                GROUNDFISH TRAWL &lt;NA&gt;          BOTTO~ 1954-01-04 00:00:00</span></span>
<span><span class="co">#&gt;  5 GFCatch       54000034 1                GROUNDFISH TRAWL &lt;NA&gt;          BOTTO~ 1954-01-05 00:00:00</span></span>
<span><span class="co">#&gt;  6 GFCatch       54000003 1                GROUNDFISH TRAWL &lt;NA&gt;          BOTTO~ 1954-01-07 00:00:00</span></span>
<span><span class="co">#&gt;  7 GFCatch       54000036 4                GROUNDFISH TRAWL &lt;NA&gt;          BOTTO~ 1954-01-07 00:00:00</span></span>
<span><span class="co">#&gt;  8 GFCatch       54000061 1                GROUNDFISH TRAWL &lt;NA&gt;          BOTTO~ 1954-01-07 00:00:00</span></span>
<span><span class="co">#&gt;  9 GFCatch       54000036 3                GROUNDFISH TRAWL &lt;NA&gt;          BOTTO~ 1954-01-07 00:00:00</span></span>
<span><span class="co">#&gt; 10 GFCatch       54000037 1                GROUNDFISH TRAWL &lt;NA&gt;          BOTTO~ 1954-01-07 00:00:00</span></span>
<span><span class="co">#&gt; # i 333,420 more rows</span></span>
<span><span class="co">#&gt; # i 20 more variables: fe_start_date &lt;dttm&gt;, fe_end_date &lt;dttm&gt;, lat &lt;dbl&gt;, lon &lt;dbl&gt;,</span></span>
<span><span class="co">#&gt; #   best_depth &lt;int&gt;, species_code &lt;chr&gt;, dfo_stat_area_code &lt;chr&gt;, dfo_stat_subarea_code &lt;int&gt;,</span></span>
<span><span class="co">#&gt; #   species_scientific_name &lt;chr&gt;, species_common_name &lt;chr&gt;, landed_kg &lt;dbl&gt;, discarded_kg &lt;dbl&gt;,</span></span>
<span><span class="co">#&gt; #   landed_pcs &lt;int&gt;, discarded_pcs &lt;int&gt;, major_stat_area_code &lt;chr&gt;, minor_stat_area_code &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   major_stat_area_name &lt;chr&gt;, vessel_name &lt;chr&gt;, vessel_registration_number &lt;chr&gt;, year &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $cpue_spatial</span></span>
<span><span class="co">#&gt; # A tibble: 77,392 x 11</span></span>
<span><span class="co">#&gt;     year best_date           major_stat_area_code trip_id fishing_event_id   lat   lon</span></span>
<span><span class="co">#&gt;    &lt;int&gt; &lt;dttm&gt;              &lt;chr&gt;                  &lt;int&gt;            &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1  2007 2007-05-08 09:50:00 06                     83395           732412  51.4 -129.</span></span>
<span><span class="co">#&gt;  2  2007 2007-05-08 11:15:00 06                     83395           732415  51.4 -129.</span></span>
<span><span class="co">#&gt;  3  2007 2007-05-07 16:30:00 06                     83395           732418  51.3 -129.</span></span>
<span><span class="co">#&gt;  4  2007 2007-05-08 19:55:00 06                     83395           732419  51.3 -129.</span></span>
<span><span class="co">#&gt;  5  2007 2007-05-07 09:30:00 07                     83739           736980  52.4 -130.</span></span>
<span><span class="co">#&gt;  6  2007 2007-05-11 08:07:00 05                     83739           736990  50.8 -129.</span></span>
<span><span class="co">#&gt;  7  2007 2007-05-08 17:26:00 08                     83916           726785  54.5 -131.</span></span>
<span><span class="co">#&gt;  8  2007 2007-05-07 13:17:00 08                     83916           726787  54.5 -131.</span></span>
<span><span class="co">#&gt;  9  2007 2007-05-08 11:14:00 08                     83916           726788  54.5 -131.</span></span>
<span><span class="co">#&gt; 10  2007 2007-05-08 07:15:00 08                     83916           726790  54.5 -131.</span></span>
<span><span class="co">#&gt; # i 77,382 more rows</span></span>
<span><span class="co">#&gt; # i 4 more variables: vessel_registration_number &lt;int&gt;, species_scientific_name &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   species_common_name &lt;chr&gt;, cpue &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $cpue_spatial_ll</span></span>
<span><span class="co">#&gt; # A tibble: 8,899 x 16</span></span>
<span><span class="co">#&gt;     year best_date           fishery_sector vessel_registration_num~1 gear  trip_id fishing_event_id</span></span>
<span><span class="co">#&gt;    &lt;int&gt; &lt;dttm&gt;              &lt;chr&gt;                              &lt;int&gt; &lt;chr&gt;   &lt;int&gt;            &lt;int&gt;</span></span>
<span><span class="co">#&gt;  1  2006 2006-03-12 12:00:00 halibut                            30850 long~   60792           512243</span></span>
<span><span class="co">#&gt;  2  2006 2006-03-06 09:30:00 halibut                            22452 long~   60809           512797</span></span>
<span><span class="co">#&gt;  3  2006 2006-03-07 10:10:00 halibut                            22452 long~   60809           512802</span></span>
<span><span class="co">#&gt;  4  2006 2006-03-07 12:00:00 halibut                            22452 long~   60809           512803</span></span>
<span><span class="co">#&gt;  5  2006 2006-03-09 20:00:00 halibut                            22452 long~   60809           512806</span></span>
<span><span class="co">#&gt;  6  2006 2006-03-10 10:45:00 halibut                            23703 long~   60944           511671</span></span>
<span><span class="co">#&gt;  7  2006 2006-03-11 14:45:00 halibut                            23703 long~   60944           511683</span></span>
<span><span class="co">#&gt;  8  2006 2006-03-12 09:15:00 halibut                            23703 long~   60944           511701</span></span>
<span><span class="co">#&gt;  9  2006 2006-03-12 17:00:00 halibut                            23703 long~   60944           511705</span></span>
<span><span class="co">#&gt; 10  2006 2006-03-13 23:59:00 halibut                            22452 long~   61099           513046</span></span>
<span><span class="co">#&gt; # i 8,889 more rows</span></span>
<span><span class="co">#&gt; # i abbreviated name: 1: vessel_registration_number</span></span>
<span><span class="co">#&gt; # i 9 more variables: lat &lt;dbl&gt;, lon &lt;dbl&gt;, species_code &lt;chr&gt;, species_scientific_name &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   species_common_name &lt;chr&gt;, landed_round_kg &lt;dbl&gt;, cpue &lt;int&gt;, total_released_pcs &lt;int&gt;,</span></span>
<span><span class="co">#&gt; #   major_stat_area_code &lt;chr&gt;</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $catch_spatial</span></span>
<span><span class="co">#&gt; # A tibble: 77,392 x 11</span></span>
<span><span class="co">#&gt;     year best_date           major_stat_area_code trip_id fishing_event_id   lat   lon</span></span>
<span><span class="co">#&gt;    &lt;int&gt; &lt;dttm&gt;              &lt;chr&gt;                  &lt;int&gt;            &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1  2007 2007-12-28 14:25:00 01                     99701           881231  48.9 -123.</span></span>
<span><span class="co">#&gt;  2  2007 2007-12-28 16:23:00 01                     99701           881232  48.9 -123.</span></span>
<span><span class="co">#&gt;  3  2007 2007-12-28 18:13:00 01                     99701           881233  48.9 -123.</span></span>
<span><span class="co">#&gt;  4  2007 2007-12-28 20:10:00 01                     99701           881234  48.9 -123.</span></span>
<span><span class="co">#&gt;  5  2007 2007-12-29 08:20:00 01                     99701           881235  48.9 -123.</span></span>
<span><span class="co">#&gt;  6  2007 2007-12-29 10:01:00 01                     99701           881236  48.9 -123.</span></span>
<span><span class="co">#&gt;  7  2007 2007-12-28 08:35:00 01                     99705           881398  49.3 -123.</span></span>
<span><span class="co">#&gt;  8  2007 2007-12-29 15:01:00 01                     99705           881402  49.2 -123.</span></span>
<span><span class="co">#&gt;  9  2007 2007-12-29 10:48:00 01                     99711           881395  49.3 -123.</span></span>
<span><span class="co">#&gt; 10  2007 2007-04-05 17:50:00 01                     82028           880764  48.9 -123.</span></span>
<span><span class="co">#&gt; # i 77,382 more rows</span></span>
<span><span class="co">#&gt; # i 4 more variables: vessel_registration_number &lt;int&gt;, species_scientific_name &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   species_common_name &lt;chr&gt;, catch &lt;dbl&gt;</span></span></code></pre>
<p>And to call one object/dataframe (i.e. our survey sample data) from
the list:</p>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">dat</span><span class="op">$</span><span class="va">survey_samples</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; # A tibble: 6 x 40</span></span>
<span><span class="co">#&gt;   trip_start_date     fishing_event_id  year month  gear survey_series_id survey_abbrev</span></span>
<span><span class="co">#&gt;   &lt;dttm&gt;                         &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;dbl&gt;            &lt;dbl&gt; &lt;chr&gt;        </span></span>
<span><span class="co">#&gt; 1 2014-10-01 00:00:00          3420684  2014    10     5               76 DOG          </span></span>
<span><span class="co">#&gt; 2 2019-10-01 00:00:00          5167333  2019    10     5               76 DOG          </span></span>
<span><span class="co">#&gt; 3 2003-08-13 00:00:00           309491  2003     8     5               39 HBLL INS N   </span></span>
<span><span class="co">#&gt; 4 2003-08-13 00:00:00           309493  2003     8     5               39 HBLL INS N   </span></span>
<span><span class="co">#&gt; 5 2003-08-13 00:00:00           309503  2003     8     5               39 HBLL INS N   </span></span>
<span><span class="co">#&gt; 6 2003-08-13 00:00:00           309506  2003     8     5               39 HBLL INS N   </span></span>
<span><span class="co">#&gt; # i 33 more variables: survey_series_desc &lt;chr&gt;, survey_id &lt;int&gt;, major_stat_area_code &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   major_stat_area_name &lt;chr&gt;, minor_stat_area_code &lt;chr&gt;, species_code &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   species_common_name &lt;chr&gt;, species_science_name &lt;chr&gt;, specimen_id &lt;dbl&gt;, sample_id &lt;dbl&gt;,</span></span>
<span><span class="co">#&gt; #   sex &lt;dbl&gt;, age_specimen_collected &lt;int&gt;, age &lt;dbl&gt;, sampling_desc &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   ageing_method_code &lt;dbl&gt;, length &lt;dbl&gt;, weight &lt;int&gt;, maturity_code &lt;dbl&gt;, maturity_name &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   maturity_desc &lt;chr&gt;, maturity_convention_code &lt;dbl&gt;, maturity_convention_desc &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   maturity_convention_maxvalue &lt;dbl&gt;, trip_sub_type_code &lt;dbl&gt;, sample_type_code &lt;dbl&gt;, ...</span></span></code></pre>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Elise A. Keppel, Philina A. English, Sean C. Anderson, Andrew M. Edwards, Chris Grandin.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
